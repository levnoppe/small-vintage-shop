<section class="cart">

  <header class="cart-header">
    <h1>Cart</h1>

    <div class="cart-actions" *ngIf="cart.totalItems() > 0">
      <button mat-button (click)="clearCart()">Clear cart</button>
      <a mat-stroked-button routerLink="/products">Continue shopping</a>
    </div>
  </header>

  <mat-divider></mat-divider>

  <!-- Empty state -->
  <div class="empty" *ngIf="cart.totalItems() === 0">
    <p>Your cart is empty.</p>
    <a mat-raised-button color="primary" routerLink="/products">Go to products</a>
  </div>

  <!-- Items -->
  <div class="items" *ngIf="cart.totalItems() > 0">
    <mat-card class="item" *ngFor="let item of cart.items()">
      <div class="row">
        <img class="thumb" [src]="item.product.imageUrl" [alt]="item.product.title" />

        <div class="info">
          <div class="title">{{ item.product.title }}</div>
          <div class="price">{{ item.product.price | currency:'USD' }}</div>
        </div>

        <div class="qty">
          <button mat-icon-button (click)="cart.decrement(item.product.id)" aria-label="Decrease quantity">
            <mat-icon>remove</mat-icon>
          </button>

          <span class="qty-value">{{ item.quantity }}</span>

          <button mat-icon-button (click)="cart.add(item.product, 1)" aria-label="Increase quantity">
            <mat-icon>add</mat-icon>
          </button>
        </div>

        <div class="line-total">
          {{ (item.quantity * item.product.price) | currency:'USD' }}
        </div>

        <button mat-icon-button (click)="cart.remove(item.product.id)" aria-label="Remove item">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </mat-card>

    <mat-card class="summary">
      <div class="summary-row">
        <span>Items</span>
        <span>{{ cart.totalItems() }}</span>
      </div>

      <div class="summary-row total">
        <span>Total</span>
        <span>{{ cart.totalPrice() | currency:'USD' }}</span>
      </div>

     <a mat-raised-button color="primary" routerLink="/checkout">
       Checkout
    </a>

    </mat-card>
  </div>

</section>
